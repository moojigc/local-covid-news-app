<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>COVID-19 News and Data</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.4.3/dist/css/foundation.min.css" integrity="sha256-GSio8qamaXapM8Fq9JYdGNTvk/dgs+cMLgPeevOYEx0= sha384-wAweiGTn38CY2DSwAaEffed6iMeflc0FMiuptanbN4J+ib+342gKGpvYRWubPd/+ sha512-QHEb6jOC8SaGTmYmGU19u2FhIfeG+t/hSacIWPpDzOp5yygnthL3JwnilM7LM1dOAbJv62R+/FICfsrKUqv4Gg==" crossorigin="anonymous">
	<link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link href="https://fonts.googleapis.com/css?family=Poppins|Roboto&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" type="text/css" href="style.css">
    <!-- <link rel="stylesheet" type="text/css" href="assets/media.css">     -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.4.3/dist/js/foundation.min.js" integrity="sha256-mRYlCu5EG+ouD07WxLF8v4ZAZYCA6WrmdIXyn1Bv9Vk= sha384-KzKofw4qqetd3kvuQ5AdapWPqV1ZI+CnfyfEwZQgPk8poOLWaabfgJOfmW7uI+AV sha512-0gHfaMkY+Do568TgjJC2iMAV0dQlY4NqbeZ4pr9lVUTXQzKu8qceyd6wg/3Uql9qA2+3X5NHv3IMb05wb387rA==" crossorigin="anonymous"></script>
</head>

<body>
    <header class="grid-container fluid">
        <div class="grid-x">
            <h1 class="cell">COVID-19</h1>
            <h5 class="cell">Get the lastest news and data for your city</h3>
        </div>
    </header>
   
    <main class="grid-container wrapper">
        <form>
            <div class="grid-container">
                <div class="grid-x grid-padding-x">
                    <div style="display: inline-flex;" class="cell">
                        <input id="user-location-search" type="text" placeholder="Search your city..." value="">
                        <button id="submit-button" type="button" class="button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
        </form>
        <div class="grid-x">
            <div class="large-6 cell">
                <h3>Latest news</h3>
                <div id="news-div" class="grid-container">
                    <div class="card" style="width: 400px;">
                        <div class="card-divider">
                            This is a header
                        </div>
                        <img src="https://cdn.cnn.com/cnnnext/dam/assets/200310183837-04-super-tuesday-ii-0310-michigan-super-tease.jpg">
                        <div class="card-section">
                            <h4>This is a card.</h4>
                            <p>It has an easy to override visual style, and is appropriately subdued.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="large-6 cell">
                <h3>Data on your area</h3>
                <div id="data-div" class="grid-container">
                    

                </div>
            </div>
        </div>
        
    </main>

    <footer>
        â’¸ Sebastian Williams, David Shalmi, Moojig Battsogt 2020
    </footer>

</body>

<script>
    // including this so you can copy the DOM manipulation part
    var responseData;
    function newsAPI(search, location) {
        var apiKey = '5b5900f1a1e0479491c99baf6798e14f'
        var location = $('#user-location-search').val();
        var queryURL = 'http://newsapi.org/v2/everything?q=' + search + '+' + location + '&apiKey=' + apiKey;
        $.ajax({
            url: queryURL,
            method: "GET"
        }).then(function(response) {
            console.log(response);
            responseData = response;

            var title = response.articles[0].title;
            var urlToImage = response.articles[0].urlToImage;
            var content = response.articles[0].content;

            // attach to the DOM, use these lines to put the news articles in the DOM
            let card = $('<div>').addClass('card').attr('style', 'width: 400px;');
            let cardTitle = $('<div>').addClass('card-divider').text(title);
            let cardImage = $('<img>').attr('src', urlToImage)
            let cardContent = $('<div>').addClass('card-section').text(content);

            card.append(cardTitle, cardImage, cardContent);
            $('#news-div').empty();
            $('#news-div').append(card);
            //
        });
    }
    newsAPI('coronavirus', 'Connecticut');
    // next we'll need to add user input for location, getting multiple articles, maybe a 'See more' option to get more articles
</script>

</html>